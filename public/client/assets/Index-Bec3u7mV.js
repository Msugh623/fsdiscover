import{r as l,j as e,D as Q,F as re,l as G,m as de,n as ue,o as _,p as Z,q as ee,s as te,t as me,u as he,v as xe,w as fe}from"./index-DiMaasXW.js";import{u as pe,B as ge,a as k,b as we,O as ye}from"./App-AwUgzFXN.js";const V={KeyA:"A",KeyB:"B",KeyC:"C",KeyD:"D",KeyE:"E",KeyF:"F",KeyG:"G",KeyH:"H",KeyI:"I",KeyJ:"J",KeyK:"K",KeyL:"L",KeyM:"M",KeyN:"N",KeyO:"O",KeyP:"P",KeyQ:"Q",KeyR:"R",KeyS:"S",KeyT:"T",KeyU:"U",KeyV:"V",KeyW:"W",KeyX:"X",KeyY:"Y",KeyZ:"Z",Digit0:"Num0",Digit1:"Num1",Digit2:"Num2",Digit3:"Num3",Digit4:"Num4",Digit5:"Num5",Digit6:"Num6",Digit7:"Num7",Digit8:"Num8",Digit9:"Num9",F1:"F1",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",F10:"F10",F11:"F11",F12:"F12",F13:"F13",F14:"F14",F15:"F15",F16:"F16",F17:"F17",F18:"F18",F19:"F19",F20:"F20",F21:"F21",F22:"F22",F23:"F23",F24:"F24",AltLeft:"LeftAlt",AltRight:"RightAlt",ControlLeft:"LeftControl",ControlRight:"RightControl",ShiftLeft:"LeftShift",ShiftRight:"RightShift",MetaLeft:"LeftSuper",MetaRight:"RightSuper",ArrowUp:"Up",ArrowDown:"Down",ArrowLeft:"Left",ArrowRight:"Right",Numpad0:"NumPad0",Numpad1:"NumPad1",Numpad2:"NumPad2",Numpad3:"NumPad3",Numpad4:"NumPad4",Numpad5:"NumPad5",Numpad6:"NumPad6",Numpad7:"NumPad7",Numpad8:"NumPad8",Numpad9:"NumPad9",NumpadAdd:"NumPadAdd",NumpadSubtract:"NumPadSubtract",NumpadMultiply:"NumPadMultiply",NumpadDivide:"NumPadDivide",NumpadDecimal:"Decimal",NumpadEnter:"Enter",NumpadEqual:"NumpadEqual",Space:"Space",Enter:"Return",Tab:"Tab",Escape:"Escape",Backspace:"Backspace",Delete:"Delete",Insert:"Insert",Home:"Home",End:"End",PageUp:"PageUp",PageDown:"PageDown",CapsLock:"CapsLock",NumLock:"NumLock",ScrollLock:"ScrollLock",PrintScreen:"PrintScreen",Pause:"Pause",Backquote:"Backquote",Minus:"Minus",Equal:"Equal",BracketLeft:"BracketLeft",BracketRight:"BracketRight",Backslash:"Backslash",Semicolon:"Semicolon",Quote:"Quote",Comma:"Comma",Period:"Period",Slash:"Slash",IntlBackslash:"IntlBackslash",IntlHash:"IntlHash",IntlRo:"IntlRo",IntlYen:"IntlYen",Convert:"Convert",NonConvert:"NonConvert",KanaMode:"KanaMode",MediaTrackNext:"AudioNext",MediaTrackPrevious:"AudioPrev",MediaStop:"AudioStop",MediaPlayPause:"LeftShift",VolumeMute:"AudioMute",VolumeDown:"AudioVolDown",VolumeUp:"AudioVolUp",MediaRewind:"AudioRewind",MediaFastForward:"AudioForward",BrowserBack:"BrowserBack",BrowserForward:"BrowserForward",BrowserRefresh:"BrowserRefresh",BrowserStop:"BrowserStop",BrowserSearch:"BrowserSearch",BrowserFavorites:"BrowserFavorites",BrowserHome:"BrowserHome",Select:"Select",WakeUp:"WakeUp",Power:"Power",Unidentified:""},oe=l.createContext(),ve=({children:x})=>{const{socket:i}=pe(),[a,c]=l.useState({dispX:0,dispY:0,lastX:0,lastY:0,mouseX:0,mouseY:0,lastMouseDownX:0,lastMouseDownY:0,lastMouseUpX:0,lastMouseUpY:0,mouseDown:!1,mouseAlt:!1,ready:!1,click:!1,mouseDownHold:!1,mouseDownHoldExt:!1,mouseIsMoving:!1,scrollX:0,scrollY:0,scrollPointX:0,scrollPointY:0,scrollDown:!1,hasKeyboard:!1}),[v,y]=l.useState({downKeys:[]}),[f,m]=l.useState([]),[g,S]=l.useState(""),[w,n]=l.useState(""),[E,P]=l.useState(""),[D,B]=l.useState(0),[R,F]=l.useState(void 0),[M,p]=l.useState(""),[U,K]=l.useState(!1),[A,W]=l.useState(!1),[L,r]=l.useState(Date.now());function Y(t){return t<30&&t>-30?t:0}l.useEffect(()=>(i.on("error",t=>{n("ERROR: "+t),setTimeout(()=>!t.includes("termina")&&n(""),6e3)}),i.on("mouseDownHold",t=>{W(t)}),i.on("disconnect",()=>{P("Connection Lost... Retrying")}),i.on("connect",()=>{P("Connected... Validating device"),setTimeout(()=>{P("")},4e3)}),()=>{!location.href.includes(":5173")&&i.disconnect(),!location.href.includes(":5173")&&location.reload()}),[]);const o=()=>{setTimeout(()=>{const t=document.getElementById("tp"),s=document.getElementById("scrollbar");if(!t&&!s)return o();c(u=>(S(t),{...u,ready:!0})),t.ontouchmove=b,t.onmousemove=b,t.ontouchstart=X,t.onmousedown=X,t.ontouchend=O,t.ontouchcancel=O,t.onmouseup=O,t.onclick=I,t.oncontextmenu=$},500)};function b(t){t.stopPropagation(),clearTimeout(D),c(s=>{const u=localStorage.mouseDown?(t.clientX||t.touches.item(0).clientX)-s.mouseX:0,d=localStorage.mouseDown?(t.clientY||t.touches.item(0).clientY)-s.mouseY:0,h={...s,dispX:Y(u),dispY:Y(d),lastX:s.mouseX,lastY:s.mouseY,mouseX:t.clientX||t.touches.item(0).clientX,mouseY:t.clientY||t.touches.item(0).clientY,mouseIsMoving:!0,mouseDown:!!localStorage.mouseDown,click:!1};let H=[...JSON.parse((localStorage==null?void 0:localStorage.mouseHistory)||"[]"),{dispX:h.dispX,dispY:h.dispY}];return H.length>10&&H.shift(),localStorage.mouseHistory=JSON.stringify(H),h}),B(setTimeout(()=>{c(s=>({...s,mouseIsMoving:!1,click:!1}))},400))}function X(t){t.stopPropagation();const s=""+Date.now();c(u=>(localStorage.mouseDown="true",{...u,dispX:0,dispY:0,mouseDown:!0,mouseDownHold:!1,click:!1,lastMouseDownX:t.clientX||t.touches.item(0).clientX,lastMouseDownY:t.clientY||t.touches.item(0).clientY,lastX:t.clientX||t.touches.item(0).clientX,lastY:t.clientY||t.touches.item(0).clientY})),setTimeout(()=>{const u=(localStorage!=null&&localStorage.mouseHistory?JSON.parse(localStorage==null?void 0:localStorage.mouseHistory):[]).find(d=>d.dispX||d.dispY);localStorage.mouseDown&&!u&&(console.log(u),c(d=>({...d,mouseDownHold:!0,click:!1}))),localStorage.clickId=s},300)}function I(t){t.stopPropagation(),localStorage.mouseDown="",c(s=>({...s,mouseDown:!1,click:"left"}))}function $(t){t.stopPropagation(),localStorage.mouseDown="",c(s=>({...s,mouseDown:!1,click:"right"}))}function O(t){t.stopPropagation(),localStorage.mouseDown="",c(d=>{var h,j;return{...d,mouseDown:!1,mouseDownHold:!1,mouseDownHoldExt:!1,click:!1,lastMouseUpX:t.clientX||((h=t.touches.item(0))==null?void 0:h.clientX)||(d==null?void 0:d.lastX),lastMouseUpY:t.clientY||((j=t.touches.item(0))==null?void 0:j.clientY)||(d==null?void 0:d.lastY),lastX:0,lastY:0}});let u=JSON.parse((localStorage==null?void 0:localStorage.mouseHistory)||"[]").map(()=>({dispX:0,dispY:0}));localStorage.mouseHistory=JSON.stringify(u)}function se(t){localStorage.scrollDown="true",c(s=>{var u,d;return{...s,scrollX:0,scrollY:0,scrollDown:!0,scrollPointX:t.clientX||((u=t.touches.item(0))==null?void 0:u.clientX),scrollPointY:t.clientY||((d=t.touches.item(0))==null?void 0:d.clientY),click:!1}})}function ne(t){c(s=>{var h,j;const u=localStorage.scrollDown?(t.clientX||t.touches.item(0).clientX)-s.scrollPointX:0,d=localStorage.scrollDown?(t.clientY||t.touches.item(0).clientY)-s.scrollPointY:0;return{...s,scrollX:Y(u),scrollY:Y(d),scrollDown:!0,click:!1,scrollPointX:t.clientX||((h=t.touches.item(0))==null?void 0:h.clientX),scrollPointY:t.clientY||((j=t.touches.item(0))==null?void 0:j.clientY)}})}function le(t){localStorage.scrollDown="",c(s=>{var u,d;return{...s,scrollX:0,scrollY:0,scrollDown:!1,click:!1,scrollPointX:t.clientX||((u=t.touches.item(0))==null?void 0:u.clientX),scrollPointY:t.clientY||((d=t.touches.item(0))==null?void 0:d.clientY)}})}function T(t={}){return""+t.code+t.keyCode+t.key}function q(t){const{keyCode:s,key:u,code:d}=t;return{code:d,key:u,keyCode:s}}function J(t){return t.key=="Backspace"&&p(""),t.keyCode==229}function ie(t){if(t.preventDefault(),J(t))return K(!0);const s=q(t),u=T(s);if(!v.downKeys.find(h=>T(h)==u)){y(j=>({...j,downKeys:[s,...j.downKeys]}));const h=V[s.code||s.key];i.emit("keydown",h)}}function ae(t){if(t.preventDefault(),J(t))return K(!0);const s=q(t),u=T(s);if(v.downKeys.find(h=>T(h)==u)){y(j=>({...j,downKeys:j.downKeys.filter(H=>T(H)!==u)}));const h=V[s.code||s.key];i.emit("keyup",h)}}function ce(t=!1){c(s=>({...s,hasKeyboard:t}))}return l.useEffect(()=>{!a.mouseIsMoving&&c(t=>({...t,dispX:0,dispY:0,click:!1}))},[a.mouseIsMoving]),l.useEffect(()=>{if(U){const t=V[`Key${M.toUpperCase()}`];t&&f.length?i.emit("keydown",t):i.emit("keypress",M),t&&f.length&&i.emit("keyup",t)}},[L]),l.useEffect(()=>{try{i.emit("pointerEvent",a)}catch{n("Failed to sync pointer data. Please check your connection.")}},[a]),e.jsxs(oe.Provider,{value:{touchConfig:a,setTouchConfig:c,init:o,pad:g,click:I,altClick:$,scrollStart:se,scrollMove:ne,scrollEnd:le,toggleKeyboard:ce,handleKeydown:ie,handleKeyUp:ae,keyConfig:v,setKeyConfig:y,hasPannel:R,setHasPannel:F,keyVal:M,setKeyVal:p,socket:i,setLastPress:r,downKeys:f,setDownKeys:m,mouseDownHold:A},children:[" ",e.jsxs("pre",{className:"small p-5 fixed-top ",style:{whiteSpace:"pre-wrap",wordWrap:"break-word",pointerEvents:"none"},children:[w&&e.jsx("div",{className:"slideUp d-flex text-center",children:w}),e.jsx("br",{}),e.jsx("div",{className:"small",children:E})]}),x]})},z=()=>l.useContext(oe),Ne=()=>{const{init:x,touchConfig:i,mouseDownHold:a,socket:c}=z(),[v,y]=l.useState(!1),[f,m]=l.useState(0),g=(n="")=>{const E=document.getElementById(n),P=setInterval(()=>{E.style.outline="8px solid steelblue",setTimeout(()=>{E.style.outline=""},100)},200);setTimeout(()=>{clearInterval(P)},1200)},S=[()=>{localStorage.toastData="Welcome to the fsdiscover Remote input tour guide",m(n=>localStorage.lastToast=k.info(e.jsx(C,{done:!1,prev:n||"0",next:()=>w(1)}),{autoClose:!1}))},()=>{localStorage.toastData="The rectangular box is the touchpad, swipe or drag on it to move the mouse",m(n=>localStorage.lastToast=k.info(e.jsx(C,{done:!1,prev:n||"0",next:()=>w(2)}),{autoClose:!1})),setTimeout(()=>{g("tp")},600)},()=>{localStorage.toastData="On the mouse bar are controls for the mouse",m(n=>localStorage.lastToast=k.info(e.jsx(C,{done:!1,prev:n||"0",next:()=>w(3)}),{autoClose:!1})),setTimeout(()=>{g("mouseBarInner")},600)},()=>{localStorage.toastData="Swipe on the scrollbar to scroll in any direction, also funtions as middle click",m(n=>localStorage.lastToast=k.info(e.jsx(C,{done:!1,prev:n||"0",next:()=>w(4)}),{autoClose:!1})),setTimeout(()=>{g("scrollBar")},600)},()=>{localStorage.toastData="Click on the keyboard icon to open remote keyboard",m(n=>localStorage.lastToast=k.info(e.jsx(C,{done:!1,prev:n||"0",next:()=>w(5)}),{autoClose:!1})),setTimeout(()=>{g("start")},600)},()=>{localStorage.toastData="On mobile or touchscreen keyboards, Key inputs might produce unexpected behaviors, in such scenarios, use the key along with SHIFT.",m(n=>localStorage.lastToast=k.info(e.jsx(C,{done:!1,prev:n||"0",next:()=>w(6)}),{autoClose:!1}))},()=>{localStorage.toastData="If you are facing difficulty connecting, check your network connection or the logs for errors, if everything looks fine and you still can't connect, Go to the admin page and eject some redundant devices to continue.",m(n=>localStorage.lastToast=k.info(e.jsx(C,{done:!1,prev:n||"0",next:()=>w(7)}),{autoClose:!1}))},()=>{localStorage.toastData="<div>On MacOS, Remote input relies on Native tools such as Iterm.app for accesibility access, If remote input is not working, go to <code>System Settings -> Security & Privacy -> Privacy tab -> Accessibility </code> and ensure <code>Iterm.app</code> and <code>Intellij IDEA.app</code> are <code>Enabled</code> <div><a href='/macos-guide.png' target='_blank'><img src='/macos-guide.png' style='width: 100%;' class='rounded mt-2 shadow mb-2'> </a></div><small>Click Image to exapnd it</small></div>",m(n=>localStorage.lastToast=k.info(e.jsx(C,{done:!1,prev:n||"0",next:()=>w(8)}),{autoClose:!1}))},()=>{localStorage.toastData="Hurray! You have reached the end of this guide. Good luck",m(localStorage.lastToast=k.info(n=>e.jsx(C,{done:!0,prev:n||"0",next:()=>{}})))}];function w(n=0){S[n](n)}return e.jsxs("div",{className:"d-flex",style:{overflow:"hidden",maxWidth:"99vw"},children:[e.jsxs("div",{className:"active rounded btn p-1 px-2",style:{position:"fixed",top:"1.2rem",left:"1.2rem",zIndex:c.connected?10:1e4},onClick:({target:n})=>{c.connected||!String(n.innerHTML).includes("Conn")?w(0):k(`
              Socket Might not be connect due to poor internet or an authorization issue, please refresh the browser, if error persists, check network devices, if it still persists try to log in again or go to admin>devices and eject some redundant devices and refresh or lastly, check if the FSdiscover session is still running or restart FSdiscover on the host computer all over again.
            `),(!c.connected||String(n.innerHTML).includes("Conn"))&&(n.classList.add("d-none"),setTimeout(()=>{n.classList.remove("d-none")},7e3))},children:[e.jsx(ge,{className:"icon"})," ",c.connected?"":e.jsx("small",{className:"bg-warning text-dark",style:{zIndex:10},children:"Not Connected"})]}),e.jsx("div",{className:"mt-auto mx-auto",style:{border:"50%",backgroundColor:a?"green":i.mouseDown?i.mouseDownHold?"green":"red":i.scollDown?"yellow":"#efefef",pointerEvents:"none",height:"2px",position:"fixed",top:"0px",left:"0px",right:"0px",zIndex:1,marginLeft:"0px",minWidth:"110vw"}}),e.jsx("canvas",{id:"tp",className:"border",style:{height:"100vh",position:"fixed",width:"99.99vw"}}),!v&&(()=>{x(document.getElementById("tp")),y(!0)})(),e.jsx("div",{className:"p-1",style:{border:"50%",backgroundColor:a?"green":i.mouseDown?i.mouseDownHold?"green":"red":"steelblue",position:"fixed",top:i.mouseY-3,left:i.mouseX-3,pointerEvents:"none"}})]})};function C({data:x,next:i,done:a}){return e.jsxs(e.Fragment,{children:[e.jsx("div",{dangerouslySetInnerHTML:{__html:x||localStorage.toastData}}),e.jsx("div",{className:"d-flex mt-1",children:e.jsx("div",{className:"me-auto",children:e.jsx("button",{className:"btn-primary p-1 px-2 btn-small btn",onClick:()=>{k.dismiss(localStorage.lastToast),i()},style:{fontSize:".8em"},children:a?"Done":"Next"})})})]})}const je=({hasDivider:x})=>{const[i,a]=l.useState("d-none"),[c,v]=l.useState(location.href),y=l.useRef(null),{toggleKeyboard:f,setKeyVal:m,keyVal:g,hasPannel:S,setHasPannel:w,handleKeyUp:n,handleKeydown:E,setLastPress:P,socket:D,downKeys:B,setDownKeys:R}=z(),[F,M]=l.useState(!1),[p,U]=l.useState(!1),[K,A]=l.useState(!1),[W,L]=l.useState(!1);function r(o){if(K&&y.current.focus(),o.target.value=="toggle")return Y(o.target.id);D.emit("keytype",o.target.id)}function Y(o){B.includes(o)?D.emit("keyup",o):D.emit("keydown",o)}return l.useEffect(()=>{location.href!==c&&v(location.href)},[location.href==c]),l.useEffect(()=>{if(S)a("d-block"),f(!0);else{if(S==null)return;f(!1),a("slideOut"),setTimeout(()=>{a("d-none")},500)}},[S]),l.useEffect(()=>{D.on("downkeys",o=>{R(o||[])}),D.connected||D.connect()},[]),e.jsxs(e.Fragment,{children:[W&&e.jsx(ke,{handleVirtualKey:r,closeController:()=>L(!1)}),e.jsxs("div",{className:"menu-panel",children:[S&&e.jsx(Q,{delay:800,children:e.jsx("div",{className:"ms-auto slideUp my-auto me-4 px-1 icon active rounded",style:{width:"fit-content",position:"relative",top:"35px",left:"10px",zIndex:2},onClick:()=>{w(!1),f(!1)},children:e.jsx(re,{className:"icon"})})}),e.jsx("div",{className:"mx-auto col-12 col-sm-10 col-md-8 col-xl-9",children:e.jsx("div",{className:`inner ani  rounded shadow-lg p-3 text-light bg-dark text-left slideUp ${i}`,style:{position:"relative"},children:e.jsxs("div",{className:"row text-light ani",style:{minHeight:"400px !important",height:"20vh",maxHeight:"80vh"},children:[e.jsxs("div",{className:"d-flex px-0 px-md-1 pb-2 virtualKeyboard",children:[e.jsxs("div",{className:"row",children:[e.jsx("h5",{className:"text-light my-auto pt-2 col-12 d-flex ps-3 m-0 mt-0 mb-0",style:{position:"relative",bottom:"6px"},children:e.jsxs("span",{style:{maxWidth:"fit-content",position:"relative",bottom:"6px"},children:[" ","Remote Keyboard"]})}),e.jsxs("div",{className:"d-flex col-md-12",children:[e.jsx("div",{className:"p-1  d-flex",children:e.jsx("button",{onClick:()=>{U(o=>!o),K&&y.current.focus()},className:`btn border text-light w-100 text-center ${p&&"active"}`,children:p?"Less":"More"})}),e.jsx(N,{isAlt:p,id:"Escape",onClick:o=>r(o),children:"Esc"}),e.jsx(N,{isAlt:p,id:"Tab",onClick:o=>r(o),children:"Tab"}),e.jsx(N,{isAlt:p,id:"End",onClick:o=>r(o),children:"End"}),F?e.jsx(N,{isAlt:p,id:"VolumeUp",onClick:o=>r(o),alt:e.jsx(N,{id:"VolumeUp",onClick:o=>r(o),children:e.jsx(G,{style:{fontSize:"1.6em",rotate:"180deg",pointerEvents:"none",rotate:""}})}),children:"Vol +"}):e.jsx(N,{alt:e.jsx(N,{id:"Backspace",onClick:o=>r(o),children:e.jsx(G,{style:{fontSize:"1.6em",rotate:"180deg",pointerEvents:"none",rotate:""}})}),isAlt:p,id:"PageUp",onClick:o=>r(o),children:"PgUp"})]}),e.jsxs("div",{className:"d-flex col-lg-12",children:[e.jsx("div",{className:" p-1 d-flex",children:e.jsx("button",{id:"LeftSuper",onClick:o=>r(o),className:"btn text-light border w-100",children:e.jsx(de,{style:{fontSize:"1.6em",rotate:"180deg",pointerEvents:"none"}})})}),e.jsx(N,{isAlt:p,id:"LeftControl",value:"toggle",className:B.includes("LeftControl")&&"active",onClick:o=>r(o),children:"Ctrl"}),e.jsx(N,{isAlt:p,id:"LeftAlt",value:"toggle",className:B.includes("LeftAlt")&&"active",onClick:o=>r(o),children:"Alt"}),e.jsx(N,{isAlt:p,id:"LeftShift",value:"toggle",className:B.includes("LeftShift")&&"active",onClick:o=>r(o),children:"Shift"}),F?e.jsx(e.Fragment,{children:e.jsx(N,{isAlt:p,id:"VolumeDown",onClick:o=>r(o),children:e.jsx("small",{children:"Volume -"})})}):e.jsx(N,{alt:e.jsx(N,{id:"Enter",onClick:o=>r(o),children:"Enter"}),isAlt:p,id:"PageDown",onClick:o=>r(o),children:"PgDown"})]})]}),e.jsxs("div",{className:"ms-auto mt-auto",children:[e.jsxs("div",{className:"d-flex",children:[e.jsx("div",{className:"col-4 p-1 d-flex",children:p?e.jsx("button",{id:"Delete",onClick:o=>r(o),className:"btn pe-4 text-light border w-100",children:"Delete"}):e.jsx("button",{id:"Insert",onClick:()=>{L(!0)},className:"btn pe-4 text-center text-light border w-100",children:e.jsx("small",{className:"small",children:"Present"})})}),F?e.jsx("div",{className:"col-4 p-1  d-flex",children:e.jsx("button",{id:"AudioPlay",onClick:o=>r(o),className:"btn text-light border w-100 text-center",children:e.jsx(ue,{className:"icon",style:{padding:"1px",pointerEvents:"none"}})})}):e.jsx("div",{className:"col-4 p-1  d-flex",children:e.jsx("button",{id:"Up",onClick:o=>r(o),className:"btn text-light border w-100 text-center",children:e.jsx(_,{style:{pointerEvents:"none"}})})}),e.jsx("div",{className:"col-4 p-1  d-flex",children:e.jsx("button",{onClick:()=>{M(o=>!o),K&&y.current.focus()},className:`btn border text-light w-100 text-center ${F&&"active"}`,children:F?"Arrow":"Media"})})]}),e.jsx("div",{className:"d-flex",children:F?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"col-4 p-1  d-flex",children:e.jsx("button",{id:"AudioPrev",onClick:o=>r(o),className:"btn border text-light w-100 text-center",children:e.jsx(me,{style:{pointerEvents:"none"}})})}),e.jsx("div",{className:"col-4 p-1  d-flex",children:e.jsx("button",{id:"AudioPlay",onClick:o=>r(o),className:"btn border text-light w-100 text-center",children:e.jsx(he,{className:"icon",style:{padding:"1px",pointerEvents:"none"}})})}),e.jsx("div",{className:"col-4 p-1  d-flex",children:e.jsx("button",{id:"AudioNext",onClick:o=>r(o),className:"btn border text-light w-100 text-center",children:e.jsx(xe,{style:{pointerEvents:"none"}})})})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"col-4 p-1  d-flex",children:e.jsx("button",{id:"Left",onClick:o=>r(o),className:"btn border text-light w-100 text-center",children:e.jsx(Z,{style:{pointerEvents:"none"}})})}),e.jsx("div",{className:"col-4 p-1  d-flex",children:e.jsx("button",{id:"Down",onClick:o=>r(o),className:"btn border text-light w-100 text-center",children:e.jsx(ee,{style:{pointerEvents:"none"}})})}),e.jsx("div",{className:"col-4 p-1  d-flex",children:e.jsx("button",{id:"Right",onClick:o=>r(o),className:"btn border text-light w-100 text-center",children:e.jsx(te,{style:{pointerEvents:"none"}})})})]})})]})]}),e.jsx("div",{className:"px-2 ",children:e.jsx("input",{type:"text",onKeyDown:E,onKeyUp:n,autoComplete:"off",autoCorrect:"off",spellCheck:"false","aria-multiline":"false",onFocus:()=>{setTimeout(()=>{A(!0)},250)},onBlur:()=>{setTimeout(()=>{A(!1)},250)},onChange:({target:o})=>{const{value:b}=o;m(X=>b.length<=2?o.value[b.length-1]||o.value:(()=>{if(b.length-X.length==1)return o.value[b.length-1];const I=b.indexOf(X);return b.slice(I+I.length+1,b.length).replace(X,"")})()),P(Date.now())},className:`form-control bg-dark border rounded text-light ${K&&"border-primary"}`,placeholder:"Write Here (Writeup will not display here)",value:g,autoFocus:!0,ref:y,id:"keystroker"})})]})})})]}),e.jsx("div",{id:"start",title:"Keyboard Menu",className:`app my-auto p-2 py-1 btn fs-5 ${S&&"active"}`,onClick:()=>{w(o=>!o),m("")},children:e.jsx(fe,{className:"text-light",style:{fontSize:"35px"}})}),x!==!1&&e.jsx("div",{className:"divider my-auto mx-2",style:{width:"1px",background:"#efefef60",height:"80%"}})]})};function N({children:x,id:i,onClick:a,className:c,value:v,isAlt:y,alt:f}){return!y||!f?e.jsx("div",{className:" p-1 d-flex",children:e.jsx("button",{id:i,value:v||"",onClick:m=>a(m),className:`btn text-light border w-100 ${c}`,children:x})}):f}function ke({handleVirtualKey:x,closeController:i}){return l.useEffect(()=>{const a=c=>{c.code=="Escape"&&i()};return window.addEventListener("keydown",a),()=>{window.removeEventListener("keydown",a)}},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"d-flex fadeIn pb-5",style:{position:"fixed",left:"0",right:"0",top:"0",bottom:"0",backgroundColor:"#061e2cfa",zIndex:10,backdropFilter:"blur(20px)"},children:e.jsxs("div",{className:"m-auto slideUp shadow border text-light active p-3 virtualKeyboard",style:{borderRadius:"25px"},children:[e.jsxs("h4",{className:"text-light d-flex",children:["Presentation Controller"," ",e.jsx("button",{className:"ms-auto active rounded my-auto me-1 border",onClick:i,children:e.jsx(we,{className:"icon"})})]}),e.jsxs("div",{className:"d-flex",children:[e.jsx("div",{className:" p-1  d-flex",children:e.jsx("button",{id:"Left",onClick:a=>x(a,!0),className:"btn border my-auto text-light h-100 w-100 fs-5 text-center",style:{width:"25vw",minWidth:"25vw",maxWwidth:"25vw",minHeight:"25vw"},children:e.jsx(Z,{style:{pointerEvents:"none"}})})}),e.jsxs("div",{className:"d-flex flex-column",children:[e.jsx("div",{className:" p-1 mb-auto d-flex",children:e.jsx("button",{id:"Up",style:{width:"25vw",minWidth:"25vw",maxWidth:"25vw",minHeight:"25vh"},onClick:a=>x(a),className:"btn text-light border w-100 text-center fs-5",children:e.jsx(_,{style:{pointerEvents:"none"}})})}),e.jsx("div",{className:" p-1 mt-auto d-flex",children:e.jsx("button",{id:"Down",style:{width:"25vw",minWidth:"25vw",maxWwidth:"25vw",minHeight:"25vh"},onClick:a=>x(a,!0),className:"btn border text-light w-100 text-center fs-5",children:e.jsx(ee,{style:{pointerEvents:"none"}})})})]}),e.jsx("div",{className:" p-1  d-flex",children:e.jsx("button",{id:"Right",onClick:a=>x(a,!0),className:"btn border my-auto text-light w-100 h-100 text-center fs-5",style:{width:"25vw",minWidth:"25vw",maxWwidth:"25vw",minHeight:"25vw"},children:e.jsx(te,{style:{pointerEvents:"none"}})})})]})]})})})}const be=()=>{const{click:x,altClick:i,scrollStart:a,scrollMove:c,scrollEnd:v,socket:y}=z(),[f,m]=l.useState(!1);return e.jsx("div",{children:e.jsx(Q,{delay:800,children:e.jsxs("div",{id:"mouseBar",className:"fixed-bottom d-flex false",style:{bottom:"10px",height:"70px"},children:[e.jsxs("div",{id:"mouseBarInner",className:"custom-navmenu mx-auto text-light slideUp p-2 col-11 col-sm-10 col-md-8 col-xl-9 mb-2 bg-dark rounded d-flex text-light",children:[e.jsx("button",{className:"btn text-light active shadow themebg",onClick:x,style:{minWidth:window.innerWidth<300?"30px":"70px",fontSize:".6em"},children:e.jsx("small",{id:"lc",style:{pointerEvents:"none",zIndex:-1}})}),e.jsx("div",{className:"m-auto px-1 d-flex h-100 w-100",children:e.jsx("div",{onClick:()=>{!f&&y.emit("middleclick"),f&&m(!1)},id:"scrollBar",onTouchStart:g=>{a(g),m(!0),g.target.focus()},onTouchMove:c,onTouchEnd:g=>{v(g)},onTouchCancel:g=>{v(g)},onMouseDown:a,onMouseMove:c,onMouseUp:v,onFocus:()=>{m(!0)},onBlur:()=>{m(!1)},className:`active rounded d-flex w-100 ${!f&&"h-100"} text-center my-auto`,style:{minWidth:"40px",fontSize:".7em",position:"relative",bottom:f&&"34px",height:"80px"},children:e.jsx("small",{className:"m-auto",id:"noPoint",style:{}})})}),e.jsx("button",{className:"btn text-light active shadow themebg",style:{minWidth:window.innerWidth<300?"30px":"70px",fontSize:".6em"},onClick:i,children:e.jsx("small",{id:"rc",style:{pointerEvents:"none"}})})]}),e.jsx("div",{className:"p-3 w-100 fixed  bottom d-flex",style:{position:"fixed",bottom:window.innerWidth>780?"0":"70px",left:"4px",zIndex:-1},children:e.jsx(je,{})})]})})})},De=()=>e.jsx("div",{className:"themebg",style:{height:"100dvh",maxHeight:"100dvh",overscrollBehavior:"contain",overscrollBehaviorBlock:"contain",overscrollBehaviorInline:"contain",overflow:"hidden"},children:e.jsxs(ve,{children:[e.jsx(ye,{}),e.jsx(Ne,{}),e.jsx(be,{})]})});export{De as default};
